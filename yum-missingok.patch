--- yum-3.4.3/rpmUtils/miscutils.py	2011-06-28 23:27:22.000000000 +0300
+++ yum-3.4.3/rpmUtils/miscutils.py	2013-04-27 22:33:20.000000000 +0300
@@ -377,6 +377,9 @@
 
     
 def flagToString(flags):
+    if flags & rpm.RPMSENSE_MISSINGOK:
+        return ('MISSINGOK', flagToString(flags & 0xf))
+
     flags = flags & 0xf
 
     if flags == 0: return None
--- yum-3.4.3/yum/packages.py	2013-04-28 12:10:15.669276249 +0300
+++ yum-3.4.3/yum/packages.py	2013-04-28 12:22:29.169904420 +0300
@@ -1257,6 +1257,9 @@
                         continue
             prcostring = '''      <rpm:entry name="%s"''' % misc.to_xml(name, attrib=True)
             if flags:
+                # skip suggests
+                if flags[0] == 'MISSINGOK':
+                    continue
                 prcostring += ''' flags="%s"''' % misc.to_xml(flags, attrib=True)
                 if e:
                     prcostring += ''' epoch="%s"''' % misc.to_xml(e, attrib=True)
@@ -1422,6 +1425,7 @@
                 # installed. So we need to mark those deps. as "weak".
                 bits = rpm.RPMSENSE_SCRIPT_PRE | rpm.RPMSENSE_SCRIPT_POST
                 weakreqs = [bool(flag & bits) for flag in lst]
+                suggests = [bool(flag & rpm.RPMSENSE_MISSINGOK) for flag in lst]
             flag = map(rpmUtils.miscutils.flagToString, lst)
             flag = map(misc.share_data, flag)
 
@@ -1434,8 +1438,11 @@
             self.prco[prcotype] = map(misc.share_data, zip(name,flag,vers))
             if tag == 'REQUIRE':
                 weakreqs = zip(weakreqs, self.prco[prcotype])
+                suggests = zip(suggests, self.prco[prcotype])
                 strongreqs = [wreq[1] for wreq in weakreqs if not wreq[0]]
+                strongreqs = [wreq[1] for wreq in suggests if not wreq[0]]
                 self.prco['strong_requires'] = strongreqs
+                self.prco['suggests'] = suggests
     
     def tagByName(self, tag):
         warnings.warn("tagByName() will go away in a furture version of Yum.\n",
